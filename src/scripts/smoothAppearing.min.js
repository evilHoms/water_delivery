"use strict";var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}"NodeList"in window&&!NodeList.prototype.forEach&&(console.info("polyfill for IE11"),NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)});var SmoothAppearing=function(){function t(){_classCallCheck(this,t),this.animationSpeed="1s",this.delay=500,this.ANIMATION_CLASSES=".appears-top, .appears-bottom, .appears-left, .appears-right, .appears-hidden",this.ANIMATION_CLASSES_ARRAY=["appears-top","appears-bottom","appears-left","appears-right","appears-hidden"],this.ANIMATION_STATES=["waiting","in_progress","ended"],this.SCROLL_Y={prev:window.scrollY,curr:window.scrollY,dir:void 0},this.wrapper=this.wrapContent()}return _createClass(t,[{key:"wrapContent",value:function(){var t=document.createElement("div");return Array.from(document.body.children).forEach(function(e){t.appendChild(e)}),document.body.appendChild(t),t}},{key:"setWrapperStyle",value:function(t){t.style.height=document.documentElement.scrollHeight+"px",t.style.width=document.documentElement.scrollWidth+"px",t.style.overflow="hidden"}},{key:"appearsFromTop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.animationSpeed,n=this.delay,s=(this.ANIMATION_CLASSES,this.ANIMATION_CLASSES_ARRAY,this.ANIMATION_STATES),a=this.SCROLL_Y,o=function(e){t.style.position=null,t.style.top=null,t.style.transition=null,t.classList.remove("appears-top"),t._animationState=s[2]},r=t.getBoundingClientRect(),l=r.height,u=r.y,p=getComputedStyle(t),c=p.top,h=p.position;t._animationState=s[1];var d=e&&"up"===a.dir;switch(h){case"static":t.style.position="relative",t.style.top="-"+(d?window.innerHeight/3+l:u+l)+"px",setTimeout(function(){return t.style.transition="top "+i},1),setTimeout(function(){return t.style.top=0},n),setTimeout(o,1e3*parseFloat(i)*1.2+n),t.addEventListener("transitionend",o);break;case"fixed":case"absolute":case"relative":t.style.top="-"+(d?window.innerHeight/3+l-parseInt(c):u+l-parseInt(c))+"px",setTimeout(function(){return t.style.transition="top "+i},1),setTimeout(function(){return t.style.top=c},n),setTimeout(o,1e3*parseFloat(i)*1.2+n),t.addEventListener("transitionend",o)}}},{key:"appearsFromBottom",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.animationSpeed,n=this.delay,s=(this.ANIMATION_CLASSES,this.ANIMATION_CLASSES_ARRAY,this.ANIMATION_STATES),a=this.SCROLL_Y,o=function(e){t.style.position=null,t.style.bottom=null,t.style.transition=null,t.classList.remove("appears-bottom"),t._animationState=s[2]},r=t.getBoundingClientRect(),l=(r.height,r.y),u=getComputedStyle(t),p=u.bottom,c=u.position,h=window.innerHeight;t._animationState=s[1];var d=e&&"down"===a.dir;switch(c){case"static":t.style.position="relative",t.style.bottom="-"+(d?1.7*h-l:h-l)+"px",setTimeout(function(){return t.style.transition="bottom "+i},1),setTimeout(function(){return t.style.bottom=0},n),setTimeout(o,1e3*parseFloat(i)*1.2+n),t.addEventListener("transitionend",o);break;case"relative":case"fixed":case"absolute":t.style.bottom="-"+(d?1.7*h-l:h-l+parseInt(p))+"px",setTimeout(function(){return t.style.transition="bottom "+i},1),setTimeout(function(){return t.style.bottom=p},n),setTimeout(o,1e3*parseFloat(i)*n),t.addEventListener("transitionend",o)}}},{key:"appearsFromLeft",value:function(t){var e=this.animationSpeed,i=this.delay,n=(this.ANIMATION_CLASSES,this.ANIMATION_CLASSES_ARRAY,this.ANIMATION_STATES),s=(this.SCROLL_Y,function(e){t.style.position=null,t.style.left=null,t.style.transition=null,t.classList.remove("appears-left"),t._animationState=n[2]}),a=t.getBoundingClientRect(),o=a.width,r=a.x,l=getComputedStyle(t),u=l.left,p=l.position;window.innerWidth;switch(t._animationState=n[1],p){case"static":t.style.position="relative",t.style.left="-"+(r+o)+"px",setTimeout(function(){return t.style.transition="left "+e},1),setTimeout(function(){return t.style.left=0},i),setTimeout(s,1e3*parseFloat(e)*1.2+i),t.addEventListener("transitionend",s);break;case"relative":case"fixed":case"absolute":t.style.left="-"+(r+o+parseInt(u))+"px",setTimeout(function(){return t.style.transition="left "+e},1),setTimeout(function(){return t.style.left=u},i),setTimeout(s,1e3*parseFloat(e)*1.2+i),t.addEventListener("transitionend",s)}}},{key:"appearsFromRight",value:function(t){var e=this.animationSpeed,i=this.delay,n=(this.ANIMATION_CLASSES,this.ANIMATION_CLASSES_ARRAY,this.ANIMATION_STATES),s=(this.SCROLL_Y,function(e){t.style.position=null,t.style.right=null,t.style.transition=null,t.classList.remove("appears-right"),t._animationState=n[2]}),a=t.getBoundingClientRect(),o=(a.width,a.x),r=getComputedStyle(t),l=r.right,u=r.position,p=window.innerWidth;switch(t._animationState=n[1],u){case"static":t.style.position="relative",t.style.right="-"+(p-o)+"px",setTimeout(function(){return t.style.transition="right "+e},1),setTimeout(function(){return t.style.right=0},i),setTimeout(s,1e3*parseFloat(e)*1.2+i),t.addEventListener("transitionend",s);break;case"relative":case"fixed":case"absolute":t.style.right="-"+(p-o-parseInt(l))+"px",setTimeout(function(){return t.style.transition="right "+e},1),setTimeout(function(){return t.style.right=l},i),setTimeout(s,1e3*parseFloat(e)*1.2+i),t.addEventListener("transitionend",s)}}},{key:"appearsHidden",value:function(t){var e=this.animationSpeed,i=this.delay,n=(this.ANIMATION_CLASSES,this.ANIMATION_CLASSES_ARRAY,this.ANIMATION_STATES),s=(this.SCROLL_Y,function(e){t.style.transition=null,t.classList.remove("appears-hidden"),t._animationState=n[2]});t._animationState=n[1],t.style.opacity=0,setTimeout(function(){return t.style.transition="opacity "+e},1),setTimeout(function(){return t.style.opacity=1},i),setTimeout(s,1e3*parseFloat(e)*1.2+i),t.addEventListener("transitionend",s)}},{key:"clear",value:function(){this.wrapper.style.overflow=null,this.wrapper.style.width=null,this.wrapper.style.height=null}},{key:"initElements",value:function(t){var e=this;t.forEach(function(t){t._animationState=e.ANIMATION_STATES[0],t._animationType=e.ANIMATION_CLASSES_ARRAY.find(function(e){return t.classList.contains(e)})})}},{key:"animateElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.ANIMATION_CLASSES_ARRAY;switch(t._animationType){case i[0]:this.appearsFromTop(t,e);break;case i[1]:this.appearsFromBottom(t,e);break;case i[2]:this.appearsFromLeft(t,e);break;case i[3]:this.appearsFromRight(t,e);break;case i[4]:this.appearsHidden(t,e)}}},{key:"runAnimation",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.delay,n=this.animationSpeed,s=(this.delay,this.ANIMATION_CLASSES);this.ANIMATION_CLASSES_ARRAY,this.ANIMATION_STATES,this.SCROLL_Y;t&&(this.animationSpeed="number"==typeof t?t/1e3+"s":t),this.delay=i;var a=document.querySelectorAll(s);this.initElements(a),this.setWrapperStyle(this.wrapper),a.forEach(function(t){return e.animateElement(t)}),setTimeout(function(){return e.clear},1e3*parseInt(n))}},{key:"runAnimationOnScroll",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.delay,n=(this.animationSpeed,this.delay,this.ANIMATION_CLASSES),s=(this.ANIMATION_CLASSES_ARRAY,this.ANIMATION_STATES),a=this.SCROLL_Y,o=!1,r=function(t){a.prev=a.curr,a.curr=window.scrollY,a.dir=a.curr>a.prev?"down":a.curr<a.prev?"up":void 0,l.forEach(function(t){t.getBoundingClientRect().y<window.innerHeight&&t._animationState===s[0]&&t.getBoundingClientRect().y+t.getBoundingClientRect().height>0&&(e.setWrapperStyle(e.wrapper),e.animateElement(t,o))}),o=!0};t&&(this.animationSpeed="number"==typeof t?t/1e3+"s":t),this.delay=i;var l=document.querySelectorAll(n);this.initElements(l),r(),window.addEventListener("scroll",r)}}]),t}();